<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   
      <title>Advanced Configuration</title>
      <meta name="generator" content="DocBook XSL-NS Stylesheets V1.75.2">
      <link rel="home" href="doc_tactic-setup.html" title="TACTIC Setup">
      <link rel="up" href="tactic-setup_setup_advanced-project-setup.html" title="Advanced Project Setup">
      <link rel="prev" href="tactic-setup_setup_settings.html" title="Settings">
      <link rel="next" href="tactic-setup_setup_advanced-automation.html" title="Advanced Automation">
   </head>
   <body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
      <div class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <td width="20%" align="left"><a accesskey="p" href="tactic-setup_setup_settings.html">Prev</a>&nbsp;
               </td>
               <th width="60%" align="center">&nbsp;</th>
               <td width="20%" align="right">&nbsp;<a accesskey="n" href="tactic-setup_setup_advanced-automation.html">Next</a></td>
            </tr>
         </table>
      </div>
      <div class="section" title="Advanced Configuration">
         <div class="titlepage">
            <div>
               <div>
                  <h3 class="title"><a name="tactic-setup_setup_advanced-configuration"></a>Advanced Configuration
                  </h3>
               </div>
            </div>
         </div>
         <div class="section" title="Advanced Schema Configuration">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a name="tactic-setup_setup_advanced-schema-configuration"></a>Advanced Schema Configuration
                     </h4>
                  </div>
               </div>
            </div>
            <p>When creating a search type, the "Search Type" property defines the project schema
               (project_namespace) and name for the search type. For example, if your current project is
                       called <span class="bold"><strong>media</strong></span> then adding a new search type named "artwork"
                       into the interface will automatically generate "media/artwork" and it will be added to the
                       media project's schema
            </p>
            <h5><a name="d0e4354"></a>Schema XML Structure
            </h5><pre class="screen">&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;schema&gt;
  &lt;search_type name='media/training_videos'/&gt;
  &lt;search_type name='media/script'/&gt;
  &lt;connect to='media/script' type='hierarchy' from='media/training_videos'/&gt;
  &lt;search_type name='media/fonts'/&gt;
  <span class="bold"><strong>&lt;search_type name='media/artwork'/&gt;</strong></span>
&lt;/schema&gt;</pre><p>To add a new search for a different schema, all that is required is an explicit definition
                       of the full Search Type "&lt;project_namespace&gt;/&lt;name&gt;". 
            </p>
            <p>For example to add an "artwork" search type in the "media" namespace, you would define the
                       search type as "media/artwork". The specific schema information will be added to your
                       current project only.
            </p>
         </div>
         <div class="section" title="Advanced Access Rule Configuration">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a name="tactic-setup_setup_advanced-access-rule-configuration"></a>Advanced Access Rule Configuration
                     </h4>
                  </div>
               </div>
            </div>
            <h5><a name="d0e4370"></a>XML Access Rules
            </h5>
            <p>Security access rules are XML documents attached to user groups. Each user's security
                       clearance is based in a union of all of the rules coming from the groups they are planned
                       to. Admin users have no rules because, by default, everything is allowed in TACTIC. 
            </p>
            <p>In the Groups table, the Access Rules column shows the XML rules which are automatically
                       generated by either the TACTIC toolset like the Permission Manager or manual editing for
                       very specific and custom control. In general, the access level is ranked like this from
                       bottom up: deny &lt; view &lt; edit &lt; allow.
            </p>
            <p>The following sample shows access rules applied to a 'Client' group:</p>
            <p>In this sample, any users in the Client group can see only a project named "game" and
                       cannot access the side_bar items (which have been denied).
            </p><pre class="screen">&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;rules&gt;
  &lt;rule key='admin' access='deny' group='side_bar'/&gt;
  &lt;rule key='site_admin' access='deny' group='side_bar'/&gt;
  &lt;rule key='Level_Manage' access='deny' group='side_bar'/&gt;
  &lt;rule key='levels_folder' access='deny' group='side_bar'/&gt;
  &lt;rule key='characters_folder' access='deny' group='side_bar'/&gt;
  &lt;rule key='myTactic_folder' access='deny' group='side_bar'/&gt;
  &lt;rule group='project' access='deny'/&gt;  
  &lt;rule group='project" key="game" access='allow'/&gt;
&lt;/rules&gt;</pre><h6><a name="d0e4382"></a>XML Examples
            </h6>
            <p>The following are examples of different access rules which can be used to customize group
                       access rules. Make sure the &lt;rule/&gt; tag is a child of the &lt;rules/&gt; tag.
            </p>
            <p><span class="bold"><strong>Project level Examples</strong></span>
                   
            </p>
            <div class="orderedlist">
               <ol class="orderedlist" type="1">
                  <li class="listitem">
                     <p>This rule denies access to all projects except for the "sample3d" project. In the
                                        following example, the "default" project is a home page the user needs to use to
                                        select projects. Because it is part of the group, you must explicitly allow viewing
                                        access to this default project when you deny access to all projects. It is also
                                        needed for XML-RPC communication to the client computer. 
                     </p><pre class="screen">&lt;rules&gt;
  &lt;rule group='project' default='deny'/&gt;
  &lt;rule group='project' key='sample3d' access='allow'/&gt;
  &lt;rule group='project' key='default' access='view'/&gt;
&lt;/rules&gt;</pre></li>
                  <li class="listitem">
                     <p>All projects can be viewed by default.</p><pre class="screen">&lt;rule group='project' default='view'/&gt; 
                </pre></li>
               </ol>
            </div>
            <p><span class="bold"><strong>Search Type level Examples</strong></span>
                   
            </p>
            <div class="orderedlist">
               <ol class="orderedlist" type="1">
                  <li class="listitem">
                     <p>The layer search type is not viewable in all projects </p><pre class="screen">
&lt;rule group='sobject' search_type='prod/layer' project='*' access='deny'/&gt;
or
&lt;rule group='sobject' search_type='prod/layer' access='deny'/&gt;                 
            </pre></li>
                  <li class="listitem">
                     <p>The task search type is not viewable in project 'sample3d'. Note that this is not
                                        the same as tasks assigned in project 'sample3d' is not viewable. It merely
                                        restricts the user's ability to view tasks when he is in a particular project. 
                     </p><pre class="screen">
&lt;rule group='sobject' search_type='sthpw/task' project='sample3d' access='deny'/&gt;               
            </pre></li>
                  <li class="listitem">
                     <p>The note search type is not viewable in project 'sample3d'. </p><pre class="screen">
&lt;rule group='sobject' search_type='sthpw/note' project='sample3d' access='deny'/&gt;               
            </pre></li>
                  <li class="listitem">
                     <p>The note search type is not editable in project 'sample3d'. This currently only
                                        applies to the main TableLayoutWdg used in most places. NoteSheetWdg and
                                        DiscussionWdg which also handle note entry are not bound by this rule.
                     </p><pre class="screen">
&lt;rule group='sobject' search_type='sthpw/note' project='sample3d' access='view'/&gt;               
            </pre></li>
                  <li class="listitem">
                     <p>The shot search type is editable in project 'sample3d'</p><pre class="screen">
&lt;rule group='sobject' search_type='prod/shot' project='sample3d' access='edit'/&gt;               
            </pre></li>
                  <li class="listitem">
                     <p>The 3d Asset search type from project 'sample3d' is not viewable. This is also
                                        applicable when you are in a different project looking at a task in 'sample3d' and
                                        the parent of which happens to be a 3d Asset in project 'sample3d'. 
                     </p><pre class="screen">
&lt;rule group='sobject' search_type='prod/asset' project='sample3d' access='deny'/&gt;                
            </pre></li>
               </ol>
            </div>
            <p><span class="bold"><strong>Search Type Column level Examples</strong></span>
                   
            </p>
            <p>These examples affect the display of the columns in different views</p>
            <div class="orderedlist">
               <ol class="orderedlist" type="1">
                  <li class="listitem">
                     <p>The 3d Asset search type's code and description are not editable in all projects </p><pre class="screen">
&lt;rule group='element' search_type='prod/asset' key='code' access='view'/&gt;
&lt;rule group='element' search_type='prod/asset' key='description' access='view'/&gt;               
            </pre></li>
                  <li class="listitem">
                     <p>The Shot search type's status is not editable in the 'sample3d' project </p><pre class="screen">
&lt;rule group='element' search_type='prod/shot' key='status' access='view' project='sample3d/&gt;
            </pre></li>
                  <li class="listitem">
                     <p>The Shot search type's description is not visible in the 'sample3d' project </p><pre class="screen">
&lt;rule group='element' search_type='prod/shot' key='description' access='deny' project='sample3d/&gt;
            </pre></li>
               </ol>
            </div>
            <p><span class="bold"><strong>Database level Examples</strong></span>
                   
            </p>
            <p>While Search Type and Search Type Column level examples affect the display of the main
                       TableLayoutWdg and EditWdg, the following database level examples are applied when attempts
                       are made to edit or insert data into the database. It can block even server or client API
                       script access to the databases.
            </p>
            <div class="orderedlist">
               <ol class="orderedlist" type="1">
                  <li class="listitem">
                     <p>This rule prevents the display and writing of the "is_current" field for snapshots
                                        found in the Checkin History.
                     </p>
                     <p>DEPRECATED and UNSUPPORTED format:</p><pre class="screen">   
  	&lt;rule group='sobject|column' key='sthpw/snapshot|is_current' access='deny'/&gt;
  	</pre><p>New format:</p><pre class="screen">     
  	&lt;rule group='sobject_column' search_type='sthpw/snapshot' column='is_current' access='deny'/&gt;
</pre></li>
                  <li class="listitem">
                     <p>The description column for Shot cannot be edited in any widget or any script. It
                                        is view only.
                     </p><pre class="screen"> &lt;rule group='sobject_column' column='description'  search_type='prod/shot' access='view'/&gt; 
    </pre></li>
                  <li class="listitem">
                     <p>The status column for Task cannot be edited in any widget or any script. It is
                                        view only.
                     </p><pre class="screen"> &lt;rule group='sobject_column' column='status'  search_type='sthpw/task' access='view'/&gt; 
    </pre></li>
                  <li class="listitem">
                     <p>The custom sType project/asset is view-only and not editable by a particular
                                        group.
                     </p><pre class="screen"> &lt;rule group='sobject' search_type='project/asset' access='view'/&gt; 
    </pre></li>
                  <li class="listitem">
                     <p>The custom sType project/asset is not viewable by a particular group. The search
                                        result will always come up empty.
                     </p><pre class="screen"> &lt;rule group='sobject' search_type='project/asset' access='deny'/&gt; 
    </pre></li>
               </ol>
            </div>
            <p><span class="bold"><strong>Search Filter Examples</strong></span>
                   
            </p>
            <p>To enforce what can be searched or filtered out in any situation like script query or UI
                       view, search_filter rules can be applied. The 'access' attribute is not required here. 
            </p>
            <div class="orderedlist">
               <ol class="orderedlist" type="1">
                  <li class="listitem">
                     <p>This rule filters out tasks belonging to project "pacman" and "sample3d". Notice
                                        you don't need "access" here. 
                     </p><pre class="screen">
 &lt;rule group='search_filter' column='project_code' value='pacman' op='!=' search_type='sthpw/task' /&gt;
 &lt;rule group='search_filter' column='project_code' value='sample3d' op='!=' search_type='sthpw/task' /&gt;    
</pre></li>
                  <li class="listitem">
                     <p>This rule retrieves task that is assigned to the current login user, applicable
                                        when navigating in project 'sample3d'. Notice the 'value' attribute can accept an
                                        expression. $LOGIN and $PROJECT are also supported.
                     </p><pre class="screen">
 &lt;rule column='assigned' value='@GET(login.login)' search_type='sthpw/task' op='=' group='search_filter' project='sample3d'/&gt;
    or
 &lt;rule column='assigned' value='$LOGIN' search_type='sthpw/task' op='=' group='search_filter' project='sample3d'/&gt;
     </pre></li>
               </ol>
            </div>
            <p><span class="bold"><strong>Miscellaneous Examples</strong></span>
                   
            </p>
            <div class="orderedlist">
               <ol class="orderedlist" type="1">
                  <li class="listitem">
                     <p>This rule blocks a user from seeing the options "Approved" and "Complete" in the
                                        task status drop-down
                     </p><pre class="screen">
  &lt;rule access='deny' key='Complete' category='process_select'/&gt;
  &lt;rule access='deny' key='Approved' category='process_select'/&gt;          
</pre></li>
               </ol>
            </div>
         </div>
         <div class="section" title="Remove Projects">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a name="tactic-setup_setup_remove-projects"></a>Remove Projects 
                     </h4>
                  </div>
               </div>
            </div>
            <p>There is no user interface in TACTIC to remove a project. This is because the complete
                       removal of a project has some pretty significant consequences. When a project is created, a
                       number of elements are created. These are listed below.
            </p>
            <div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;">
               <h3 class="title">Note</h3>
               <p>This task may need to be carried out by the Tactic System Admin as it involves
                              manually accessing both the Tactic File system and the Tactic Database
               </p>
            </div>
            <p>In all of the following examples, &lt;project_code&gt; represents the code of the project
                       when the project was created.
            </p>
            <div class="itemizedlist">
               <ul class="itemizedlist">
                  <li class="listitem">
                     <p>A database called &lt;project_code&gt;</p>
                  </li>
                  <li class="listitem">
                     <p>An assets directory in &lt;tactic_asset_dir&gt;</p>
                  </li>
                  <li class="listitem">
                     <p>Entry in the project table</p>
                  </li>
               </ul>
            </div>
            <p><span class="bold"><strong>A complete removal of a project should be handled with care. This is
                                 most often desirably when a project has been created in properly. It is one of the few
                                 operations that is not undo-able in TACTIC, so it is recommended to be careful when
                                 proceeding with the following steps. It is also recommended that a complete backup of
                                 TACTIC is performed before carrying out this process.</strong></span></p>
            <h5><a name="d0e4548"></a>Remove the project directory
            </h5><pre class="screen">cd &lt;project_install_dir&gt;/sites
rm -rf &lt;project_code&gt;</pre><h5><a name="d0e4552"></a>Remove the database
            </h5><pre class="screen">psql -U postgres sthpw
drop database "&lt;project_code&gt;";</pre><h5><a name="d0e4556"></a>Remove the assets directory
            </h5><pre class="screen">cd &lt;project_asset_dir&gt;
rm -rf &lt;project_code&gt;</pre><h5><a name="d0e4560"></a>Remove the entry in the projects table in the
                       database
            </h5><pre class="screen">psql -U postgres sthpw
delete from project where code='&lt;project_code&gt;';</pre><h5><a name="d0e4564"></a>Remove connected entities in the sthpw
                       database;
            </h5>
            <p>In this process, Tactic may not allow removing a particular project due to there being
                       child tasks, notes, snapshots, files, wdg_settings etc. If Tactic denies revoval because,
                       for example there is a connection in the file table, you will need to do the
                       following
            </p><pre class="screen">delete from file where project_code='&lt;project_code&gt;';
delete from snapshot where project_code='&lt;project_code&gt;';
delete from task where project_code='&lt;project_code&gt;';
delete from note where project_code='&lt;project_code&gt;';
delete from wdg_settings where project_code='&lt;project_code&gt;';
delete from pref_setting where project_code='&lt;project_code&gt;';</pre></div>
      </div>
      <div class="navfooter">
         <hr>
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left"><a accesskey="p" href="tactic-setup_setup_settings.html">Prev</a>&nbsp;
               </td>
               <td width="20%" align="center"><a accesskey="u" href="tactic-setup_setup_advanced-project-setup.html">Up</a></td>
               <td width="40%" align="right">&nbsp;<a accesskey="n" href="tactic-setup_setup_advanced-automation.html">Next</a></td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top">&nbsp;</td>
               <td width="20%" align="center"><a accesskey="h" href="doc_tactic-setup.html">Home</a></td>
               <td width="40%" align="right" valign="top">&nbsp;</td>
            </tr>
         </table>
      </div>
   </body>
</html>